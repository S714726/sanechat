<!DOCTYPE html>
<html>
  <head>
    <title>sanechat</title>
    <link href="chat.css" type="text/css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
    <script src="socket.io/socket.io.js"></script>
    <script>
      // TODO: Shift this placeholder to socket.io stuff below
      $(document).ready(function() {
        var $msg = $('#message');
        var $chat = $('#chat');
        $msg.keypress(function(ev) {
          if (ev.which == 13) {
            ev.preventDefault();
            $chat.append('<ul><li class=\"nick\">User:</li><li>' + $msg.text() + '</li></ul>');
            $chat.scrollTop($chat.prop('scrollHeight'));
            $msg.empty();
          }
       })
      })

      /*
      var socket = io.connect("http://localhost/");

      socket.on('connect', function() {
        socket.emit('nick', 'user') // TODO put real nickname here
      })
      
      socket.on('speak', function(text) {
        // TODO send message to server
      })
      */
    </script>
  </head>
  <body>
    <h1>sanechat</h1>
    <noscript>Don't bother using elinks.</noscript>
    <div id="chat">
      <h3>User entered the chat.</h3>
      <ul><li class="nick">User:</li><li>Sample Text</li></ul>
    </div>
    <div id="lower">
      <div id="msgleft">Chat:</div>
      <div id="message" contentEditable="true"></div>
    </div>
  </body>
</html>
